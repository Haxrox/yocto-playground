From baab7067c1926ec056bea682a7b26c4121da0fe2 Mon Sep 17 00:00:00 2001
From: Haxrox <56497846+Haxrox@users.noreply.github.com>
Date: Thu, 28 Mar 2024 15:35:57 -0700
Subject: [PATCH] de1-soc header files

---
 board/terasic/de1-soc/qts/iocsr_config.h  |  16 +--
 board/terasic/de1-soc/qts/pinmux_config.h |  49 ++++++-
 board/terasic/de1-soc/qts/pll_config.h    | 151 ++++++++++----------
 board/terasic/de1-soc/qts/sdram_config.h  | 159 ++++++++++++----------
 include/configs/socfpga_common.h          |   4 +
 5 files changed, 215 insertions(+), 164 deletions(-)

diff --git a/board/terasic/de1-soc/qts/iocsr_config.h b/board/terasic/de1-soc/qts/iocsr_config.h
index 359fd0e417..4e55c94105 100644
--- a/board/terasic/de1-soc/qts/iocsr_config.h
+++ b/board/terasic/de1-soc/qts/iocsr_config.h
@@ -3,13 +3,9 @@
  * Altera SoCFPGA IOCSR configuration
  */
 
-#ifndef __SOCFPGA_IOCSR_CONFIG_H__
-#define __SOCFPGA_IOCSR_CONFIG_H__
+#ifndef __SOCFPGA_IOCSR_CFG_H__
+#define __SOCFPGA_IOCSR_CFG_H__
 
-#define CFG_HPS_IOCSR_SCANCHAIN0_LENGTH	764
-#define CFG_HPS_IOCSR_SCANCHAIN1_LENGTH	1719
-#define CFG_HPS_IOCSR_SCANCHAIN2_LENGTH	955
-#define CFG_HPS_IOCSR_SCANCHAIN3_LENGTH	16766
 
 const unsigned long iocsr_scan_chain0_table[] = {
 	0x00000000,
@@ -46,7 +42,7 @@ const unsigned long iocsr_scan_chain1_table[] = {
 	0x000300C0,
 	0x00008000,
 	0x00060180,
-	0x20000000,
+	0x18060000,
 	0x00000000,
 	0x00000080,
 	0x00020000,
@@ -655,5 +651,9 @@ const unsigned long iocsr_scan_chain3_table[] = {
 	0x00004000,
 };
 
+#define CFG_HPS_IOCSR_SCANCHAIN0_LENGTH	(764)
+#define CFG_HPS_IOCSR_SCANCHAIN1_LENGTH	(1719)
+#define CFG_HPS_IOCSR_SCANCHAIN2_LENGTH	(955)
+#define CFG_HPS_IOCSR_SCANCHAIN3_LENGTH	(16766)
 
-#endif /* __SOCFPGA_IOCSR_CONFIG_H__ */
+#endif /* __SOCFPGA_IOCSR_CFG_H__ */
diff --git a/board/terasic/de1-soc/qts/pinmux_config.h b/board/terasic/de1-soc/qts/pinmux_config.h
index c75635005c..25dc7c76df 100644
--- a/board/terasic/de1-soc/qts/pinmux_config.h
+++ b/board/terasic/de1-soc/qts/pinmux_config.h
@@ -3,8 +3,8 @@
  * Altera SoCFPGA PinMux configuration
  */
 
-#ifndef __SOCFPGA_PINMUX_CONFIG_H__
-#define __SOCFPGA_PINMUX_CONFIG_H__
+#ifndef __SOCFPGA_PINMUX_CFG_H__
+#define __SOCFPGA_PINMUX_CFG_H__
 
 const u8 sys_mgr_init_table[] = {
 	0, /* EMACIO0 */
@@ -215,4 +215,47 @@ const u8 sys_mgr_init_table[] = {
 	0, /* USB0USEFPGA */
 	0 /* SPIM0USEFPGA */
 };
-#endif /* __SOCFPGA_PINMUX_CONFIG_H__ */
+
+#define CFG_HPS_EMAC0 (0)
+#define CFG_HPS_EMAC1 (1)
+#define CFG_HPS_USB0 (0)
+#define CFG_HPS_USB1 (1)
+#define CFG_HPS_NAND (0)
+#define CFG_HPS_SDMMC (1)
+#define CFG_HPS_QSPI (1)
+#define CFG_HPS_UART0 (1)
+#define CFG_HPS_UART1 (0)
+#define CFG_HPS_TRACE (0)
+#define CFG_HPS_I2C0 (1)
+#define CFG_HPS_I2C1 (1)
+#define CFG_HPS_I2C2 (0)
+#define CFG_HPS_I2C3 (0)
+#define CFG_HPS_SPIM0 (0)
+#define CFG_HPS_SPIM1 (1)
+#define CFG_HPS_SPIS0 (0)
+#define CFG_HPS_SPIS1 (0)
+#define CFG_HPS_CAN0 (0)
+#define CFG_HPS_CAN1 (0)
+
+#define CFG_HPS_SDMMC_BUSWIDTH (4)
+
+#define CFG_HPS_QSPI_CS3 (0)
+#define CFG_HPS_QSPI_CS2 (0)
+#define CFG_HPS_QSPI_CS1 (0)
+#define CFG_HPS_QSPI_CS0 (1)
+
+#define CFG_HPS_UART0_TX (1)
+#define CFG_HPS_UART0_CTS (0)
+#define CFG_HPS_UART0_RTS (0)
+#define CFG_HPS_UART0_RX (1)
+
+#define CFG_HPS_UART1_TX (0)
+#define CFG_HPS_UART1_CTS (0)
+#define CFG_HPS_UART1_RTS (0)
+#define CFG_HPS_UART1_RX (0)
+
+
+/* Pin MUX data */
+#define CFG_HPS_PINMUX_NUM	(207)
+
+#endif /* __SOCFPGA_PINMUX_CFG_H__ */
diff --git a/board/terasic/de1-soc/qts/pll_config.h b/board/terasic/de1-soc/qts/pll_config.h
index 2811e04c48..435364510b 100644
--- a/board/terasic/de1-soc/qts/pll_config.h
+++ b/board/terasic/de1-soc/qts/pll_config.h
@@ -1,90 +1,83 @@
 /* SPDX-License-Identifier: BSD-3-Clause */
 /*
- * Altera SoCFPGA Clock and PLL configuration
+ * Altera SoCFPGA Clock and PLL CFGuration
  */
 
-#ifndef __SOCFPGA_PLL_CONFIG_H__
-#define __SOCFPGA_PLL_CONFIG_H__
+#ifndef __SOCFPGA_PLL_CFG_H__
+#define __SOCFPGA_PLL_CFG_H__
 
-#define CFG_HPS_DBCTRL_STAYOSC1 1
+#define CFG_HPS_DBCTRL_STAYOSC1 (1)
 
-#define CFG_HPS_MAINPLLGRP_VCO_DENOM 0
-#define CFG_HPS_MAINPLLGRP_VCO_NUMER 63
-#define CFG_HPS_MAINPLLGRP_MPUCLK_CNT 0
-#define CFG_HPS_MAINPLLGRP_MAINCLK_CNT 0
-#define CFG_HPS_MAINPLLGRP_DBGATCLK_CNT 0
-#define CFG_HPS_MAINPLLGRP_MAINQSPICLK_CNT 3
-#define CFG_HPS_MAINPLLGRP_MAINNANDSDMMCCLK_CNT 511
-#define CFG_HPS_MAINPLLGRP_CFGS2FUSER0CLK_CNT 15
-#define CFG_HPS_MAINPLLGRP_MAINDIV_L3MPCLK 1
-#define CFG_HPS_MAINPLLGRP_MAINDIV_L3SPCLK 1
-#define CFG_HPS_MAINPLLGRP_MAINDIV_L4MPCLK 1
-#define CFG_HPS_MAINPLLGRP_MAINDIV_L4SPCLK 1
-#define CFG_HPS_MAINPLLGRP_DBGDIV_DBGATCLK 0
-#define CFG_HPS_MAINPLLGRP_DBGDIV_DBGCLK 1
-#define CFG_HPS_MAINPLLGRP_TRACEDIV_TRACECLK 0
-#define CFG_HPS_MAINPLLGRP_L4SRC_L4MP 1
-#define CFG_HPS_MAINPLLGRP_L4SRC_L4SP 1
+#define CFG_HPS_MAINPLLGRP_VCO_DENOM (0)
+#define CFG_HPS_MAINPLLGRP_VCO_NUMER (73)
+#define CFG_HPS_MAINPLLGRP_MPUCLK_CNT (0)
+#define CFG_HPS_MAINPLLGRP_MAINCLK_CNT (0)
+#define CFG_HPS_MAINPLLGRP_DBGATCLK_CNT (0)
+#define CFG_HPS_MAINPLLGRP_MAINQSPICLK_CNT (4)
+#define CFG_HPS_MAINPLLGRP_MAINNANDSDMMCCLK_CNT (511)
+#define CFG_HPS_MAINPLLGRP_CFGS2FUSER0CLK_CNT (18)
+#define CFG_HPS_MAINPLLGRP_MAINDIV_L3MPCLK (1)
+#define CFG_HPS_MAINPLLGRP_MAINDIV_L3SPCLK (1)
+#define CFG_HPS_MAINPLLGRP_MAINDIV_L4MPCLK (1)
+#define CFG_HPS_MAINPLLGRP_MAINDIV_L4SPCLK (1)
+#define CFG_HPS_MAINPLLGRP_DBGDIV_DBGATCLK (0)
+#define CFG_HPS_MAINPLLGRP_DBGDIV_DBGCLK (1)
+#define CFG_HPS_MAINPLLGRP_TRACEDIV_TRACECLK (0)
+#define CFG_HPS_MAINPLLGRP_L4SRC_L4MP (1)
+#define CFG_HPS_MAINPLLGRP_L4SRC_L4SP (1)
 
-#define CFG_HPS_PERPLLGRP_VCO_DENOM 0
-#define CFG_HPS_PERPLLGRP_VCO_NUMER 39
-#define CFG_HPS_PERPLLGRP_VCO_PSRC 0
-#define CFG_HPS_PERPLLGRP_EMAC0CLK_CNT 511
-#define CFG_HPS_PERPLLGRP_EMAC1CLK_CNT 3
-#define CFG_HPS_PERPLLGRP_PERQSPICLK_CNT 511
-#define CFG_HPS_PERPLLGRP_PERNANDSDMMCCLK_CNT 4
-#define CFG_HPS_PERPLLGRP_PERBASECLK_CNT 4
-#define CFG_HPS_PERPLLGRP_S2FUSER1CLK_CNT 511
-#define CFG_HPS_PERPLLGRP_DIV_USBCLK 0
-#define CFG_HPS_PERPLLGRP_DIV_SPIMCLK 0
-#define CFG_HPS_PERPLLGRP_DIV_CAN0CLK 4
-#define CFG_HPS_PERPLLGRP_DIV_CAN1CLK 4
-#define CFG_HPS_PERPLLGRP_GPIODIV_GPIODBCLK 6249
-#define CFG_HPS_PERPLLGRP_SRC_SDMMC 2
-#define CFG_HPS_PERPLLGRP_SRC_NAND 2
-#define CFG_HPS_PERPLLGRP_SRC_QSPI 1
+#define CFG_HPS_PERPLLGRP_VCO_DENOM (0)
+#define CFG_HPS_PERPLLGRP_VCO_NUMER (39)
+#define CFG_HPS_PERPLLGRP_VCO_PSRC (0)
+#define CFG_HPS_PERPLLGRP_EMAC0CLK_CNT (511)
+#define CFG_HPS_PERPLLGRP_EMAC1CLK_CNT (3)
+#define CFG_HPS_PERPLLGRP_PERQSPICLK_CNT (511)
+#define CFG_HPS_PERPLLGRP_PERNANDSDMMCCLK_CNT (4)
+#define CFG_HPS_PERPLLGRP_PERBASECLK_CNT (4)
+#define CFG_HPS_PERPLLGRP_S2FUSER1CLK_CNT (511)
+#define CFG_HPS_PERPLLGRP_DIV_USBCLK (0)
+#define CFG_HPS_PERPLLGRP_DIV_SPIMCLK (0)
+#define CFG_HPS_PERPLLGRP_DIV_CAN0CLK (4)
+#define CFG_HPS_PERPLLGRP_DIV_CAN1CLK (4)
+#define CFG_HPS_PERPLLGRP_GPIODIV_GPIODBCLK (6249)
+#define CFG_HPS_PERPLLGRP_SRC_SDMMC (2)
+#define CFG_HPS_PERPLLGRP_SRC_NAND (2)
+#define CFG_HPS_PERPLLGRP_SRC_QSPI (1)
 
-#define CFG_HPS_SDRPLLGRP_VCO_DENOM 0
-#define CFG_HPS_SDRPLLGRP_VCO_NUMER 31
-#define CFG_HPS_SDRPLLGRP_VCO_SSRC 0
-#define CFG_HPS_SDRPLLGRP_DDRDQSCLK_CNT 1
-#define CFG_HPS_SDRPLLGRP_DDRDQSCLK_PHASE 0
-#define CFG_HPS_SDRPLLGRP_DDR2XDQSCLK_CNT 0
-#define CFG_HPS_SDRPLLGRP_DDR2XDQSCLK_PHASE 0
-#define CFG_HPS_SDRPLLGRP_DDRDQCLK_CNT 1
-#define CFG_HPS_SDRPLLGRP_DDRDQCLK_PHASE 4
-#define CFG_HPS_SDRPLLGRP_S2FUSER2CLK_CNT 5
-#define CFG_HPS_SDRPLLGRP_S2FUSER2CLK_PHASE 0
+#define CFG_HPS_SDRPLLGRP_VCO_DENOM (0)
+#define CFG_HPS_SDRPLLGRP_VCO_NUMER (31)
+#define CFG_HPS_SDRPLLGRP_VCO_SSRC (0)
+#define CFG_HPS_SDRPLLGRP_DDRDQSCLK_CNT (1)
+#define CFG_HPS_SDRPLLGRP_DDRDQSCLK_PHASE (0)
+#define CFG_HPS_SDRPLLGRP_DDR2XDQSCLK_CNT (0)
+#define CFG_HPS_SDRPLLGRP_DDR2XDQSCLK_PHASE (0)
+#define CFG_HPS_SDRPLLGRP_DDRDQCLK_CNT (1)
+#define CFG_HPS_SDRPLLGRP_DDRDQCLK_PHASE (4)
+#define CFG_HPS_SDRPLLGRP_S2FUSER2CLK_CNT (5)
+#define CFG_HPS_SDRPLLGRP_S2FUSER2CLK_PHASE (0)
 
-#define CFG_HPS_CLK_OSC1_HZ 25000000
-#define CFG_HPS_CLK_OSC2_HZ 25000000
-#define CFG_HPS_CLK_F2S_SDR_REF_HZ 0
-#define CFG_HPS_CLK_F2S_PER_REF_HZ 0
-#define CFG_HPS_CLK_MAINVCO_HZ 1600000000
-#define CFG_HPS_CLK_PERVCO_HZ 1000000000
-#define CFG_HPS_CLK_SDRVCO_HZ 800000000
-#define CFG_HPS_CLK_OSC1_HZ 25000000
-#define CFG_HPS_CLK_OSC2_HZ 25000000
-#define CFG_HPS_CLK_F2S_SDR_REF_HZ 0
-#define CFG_HPS_CLK_F2S_PER_REF_HZ 0
-#define CFG_HPS_CLK_MAINVCO_HZ 1600000000
-#define CFG_HPS_CLK_PERVCO_HZ 1000000000
-#define CFG_HPS_CLK_EMAC0_HZ 1953125
-#define CFG_HPS_CLK_EMAC1_HZ 250000000
-#define CFG_HPS_CLK_USBCLK_HZ 200000000
-#define CFG_HPS_CLK_NAND_HZ 50000000
-#define CFG_HPS_CLK_SDMMC_HZ 200000000
-#define CFG_HPS_CLK_QSPI_HZ 400000000
-#define CFG_HPS_CLK_SPIM_HZ 200000000
-#define CFG_HPS_CLK_CAN0_HZ 12500000
-#define CFG_HPS_CLK_CAN1_HZ 12500000
-#define CFG_HPS_CLK_GPIODB_HZ 32000
-#define CFG_HPS_CLK_L4_MP_HZ 100000000
-#define CFG_HPS_CLK_L4_SP_HZ 100000000
+#define CFG_HPS_CLK_OSC1_HZ (25000000)
+#define CFG_HPS_CLK_OSC2_HZ (25000000)
+#define CFG_HPS_CLK_F2S_SDR_REF_HZ (0)
+#define CFG_HPS_CLK_F2S_PER_REF_HZ (0)
+#define CFG_HPS_CLK_MAINVCO_HZ (1850000000)
+#define CFG_HPS_CLK_PERVCO_HZ (1000000000)
+#define CFG_HPS_CLK_SDRVCO_HZ (800000000)
+#define CFG_HPS_CLK_EMAC0_HZ (1953125)
+#define CFG_HPS_CLK_EMAC1_HZ (250000000)
+#define CFG_HPS_CLK_USBCLK_HZ (200000000)
+#define CFG_HPS_CLK_NAND_HZ (50000000)
+#define CFG_HPS_CLK_SDMMC_HZ (200000000)
+#define CFG_HPS_CLK_QSPI_HZ (370000000)
+#define CFG_HPS_CLK_SPIM_HZ (200000000)
+#define CFG_HPS_CLK_CAN0_HZ (12500000)
+#define CFG_HPS_CLK_CAN1_HZ (12500000)
+#define CFG_HPS_CLK_GPIODB_HZ (32000)
+#define CFG_HPS_CLK_L4_MP_HZ (100000000)
+#define CFG_HPS_CLK_L4_SP_HZ (100000000)
 
-#define CFG_HPS_ALTERAGRP_MPUCLK 1
-#define CFG_HPS_ALTERAGRP_MAINCLK 3
-#define CFG_HPS_ALTERAGRP_DBGATCLK 3
+#define CFG_HPS_ALTERAGRP_MPUCLK (1)
+#define CFG_HPS_ALTERAGRP_MAINCLK (4)
+#define CFG_HPS_ALTERAGRP_DBGATCLK (4)
 
-
-#endif /* __SOCFPGA_PLL_CONFIG_H__ */
+#endif /* __SOCFPGA_PLL_CFG_H__ */
diff --git a/board/terasic/de1-soc/qts/sdram_config.h b/board/terasic/de1-soc/qts/sdram_config.h
index 7b0ff2ce01..68f7fe7580 100644
--- a/board/terasic/de1-soc/qts/sdram_config.h
+++ b/board/terasic/de1-soc/qts/sdram_config.h
@@ -1,82 +1,13 @@
 /* SPDX-License-Identifier: BSD-3-Clause */
 /*
  * Altera SoCFPGA SDRAM configuration
+ *
  */
 
-#ifndef __SOCFPGA_SDRAM_CONFIG_H__
-#define __SOCFPGA_SDRAM_CONFIG_H__
+#ifndef __SOCFPGA_SDRAM_CFG_H__
+#define __SOCFPGA_SDRAM_CFG_H__
 
 /* SDRAM configuration */
-#define CFG_HPS_SDR_CTRLCFG_CPORTRDWR_CPORTRDWR		0x5A56A
-#define CFG_HPS_SDR_CTRLCFG_CPORTRMAP_CPORTRMAP		0xB00088
-#define CFG_HPS_SDR_CTRLCFG_CPORTWIDTH_CPORTWIDTH		0x44555
-#define CFG_HPS_SDR_CTRLCFG_CPORTWMAP_CPORTWMAP		0x2C011000
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_ADDRORDER		0
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_DQSTRKEN			0
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_ECCCORREN		0
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_ECCEN			0
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_MEMBL			8
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_MEMTYPE			2
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_NODMPINS			0
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_REORDEREN		1
-#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_STARVELIMIT		10
-#define CFG_HPS_SDR_CTRLCFG_CTRLWIDTH_CTRLWIDTH		2
-#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_BANKBITS		3
-#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_COLBITS		10
-#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_CSBITS			1
-#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_ROWBITS		15
-#define CFG_HPS_SDR_CTRLCFG_DRAMDEVWIDTH_DEVWIDTH		8
-#define CFG_HPS_SDR_CTRLCFG_DRAMIFWIDTH_IFWIDTH		32
-#define CFG_HPS_SDR_CTRLCFG_DRAMINTR_INTREN			0
-#define CFG_HPS_SDR_CTRLCFG_EXTRATIME1_CFG_EXTRA_CTL_CLK_RD_TO_WR 0
-#define CFG_HPS_SDR_CTRLCFG_EXTRATIME1_CFG_EXTRA_CTL_CLK_RD_TO_WR_BC 0
-#define CFG_HPS_SDR_CTRLCFG_EXTRATIME1_CFG_EXTRA_CTL_CLK_RD_TO_WR_DIFF_CHIP 0
-#define CFG_HPS_SDR_CTRLCFG_LOWPWREQ_SELFRFSHMASK		3
-#define CFG_HPS_SDR_CTRLCFG_DRAMODT_READ			0
-#define CFG_HPS_SDR_CTRLCFG_DRAMODT_WRITE			1
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_AL			0
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TCL			7
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TCWL			7
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TFAW			18
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TRFC			120
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TRRD			3
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TRCD		6
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TREFI		3120
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TRP		6
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TWR		6
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TWTR		4
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TCCD			4
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TMRD			4
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TRAS			15
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TRC			20
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TRTP			3
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING4_PWRDOWNEXIT		3
-#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING4_SELFRFSHEXIT		200
-#define CFG_HPS_SDR_CTRLCFG_FIFOCFG_INCSYNC			0
-#define CFG_HPS_SDR_CTRLCFG_FIFOCFG_SYNCMODE			0
-#define CFG_HPS_SDR_CTRLCFG_FPGAPORTRST			0x0
-#define CFG_HPS_SDR_CTRLCFG_LOWPWRTIMING_AUTOPDCYCLES	0
-#define CFG_HPS_SDR_CTRLCFG_LOWPWRTIMING_CLKDISABLECYCLES	8
-#define CFG_HPS_SDR_CTRLCFG_MPPACING_0_THRESHOLD1_31_0	0x20820820
-#define CFG_HPS_SDR_CTRLCFG_MPPACING_1_THRESHOLD1_59_32	0x8208208
-#define CFG_HPS_SDR_CTRLCFG_MPPACING_1_THRESHOLD2_3_0	0
-#define CFG_HPS_SDR_CTRLCFG_MPPACING_2_THRESHOLD2_35_4	0x41041041
-#define CFG_HPS_SDR_CTRLCFG_MPPACING_3_THRESHOLD2_59_36	0x410410
-#define CFG_HPS_SDR_CTRLCFG_MPPRIORITY_USERPRIORITY		0x3FFD1088
-#define CFG_HPS_SDR_CTRLCFG_MPTHRESHOLDRST_0_THRESHOLDRSTCYCLES_31_0 0x01010101
-#define CFG_HPS_SDR_CTRLCFG_MPTHRESHOLDRST_1_THRESHOLDRSTCYCLES_63_32 0x01010101
-#define CFG_HPS_SDR_CTRLCFG_MPTHRESHOLDRST_2_THRESHOLDRSTCYCLES_79_64 0x0101
-#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_0_STATICWEIGHT_31_0	0x21084210
-#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_1_STATICWEIGHT_49_32	0x1EF84
-#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_1_SUMOFWEIGHT_13_0	0x2020
-#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_2_SUMOFWEIGHT_45_14	0x0
-#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_3_SUMOFWEIGHT_63_46	0xF800
-#define CFG_HPS_SDR_CTRLCFG_PHYCTRL_PHYCTRL_0		0x200
-#define CFG_HPS_SDR_CTRLCFG_PORTCFG_AUTOPCHEN		0
-#define CFG_HPS_SDR_CTRLCFG_RFIFOCMAP_RFIFOCMAP		0x760210
-#define CFG_HPS_SDR_CTRLCFG_STATICCFG_MEMBL			2
-#define CFG_HPS_SDR_CTRLCFG_STATICCFG_USEECCASDATA		0
-#define CFG_HPS_SDR_CTRLCFG_WFIFOCMAP_WFIFOCMAP		0x980543
 
 /* Sequencer auto configuration */
 #define RW_MGR_ACTIVATE_0_AND_1	0x0D
@@ -128,6 +59,7 @@
 #define RW_MGR_ZQCL	0x06
 
 /* Sequencer defines configuration */
+#define AFI_CLK_FREQ	401
 #define AFI_RATE_RATIO	1
 #define CALIB_LFIFO_OFFSET	8
 #define CALIB_VFIFO_OFFSET	6
@@ -149,7 +81,7 @@
 #define IO_SHIFT_DQS_EN_WHEN_SHIFT_DQS	0
 #define MAX_LATENCY_COUNT_WIDTH	5
 #define READ_VALID_FIFO_SIZE	16
-#define REG_FILE_INIT_SEQ_SIGNATURE	0x5555048d
+#define REG_FILE_INIT_SEQ_SIGNATURE	0x555504b5
 #define RW_MGR_MEM_ADDRESS_MIRRORING	0
 #define RW_MGR_MEM_DATA_MASK_WIDTH	4
 #define RW_MGR_MEM_DATA_WIDTH	32
@@ -340,4 +272,83 @@ const u32 inst_rom_init[] = {
 	0x80680
 };
 
-#endif /* __SOCFPGA_SDRAM_CONFIG_H__ */
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_MEMTYPE			(2)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_MEMBL			(8)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_ADDRORDER		(0)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_ECCEN			(0)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_ECCCORREN		(0)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_REORDEREN		(1)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_STARVELIMIT		(10)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_DQSTRKEN			(0)
+#define CFG_HPS_SDR_CTRLCFG_CTRLCFG_NODMPINS			(0)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TCWL			(7)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_AL			(0)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TCL			(7)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TRRD			(3)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TFAW			(18)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING1_TRFC			(120)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TREFI		(3120)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TRCD		(6)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TRP		(6)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TWR		(6)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING2_IF_TWTR		(4)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TRTP			(3)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TRAS			(15)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TRC			(20)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TMRD			(4)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING3_TCCD			(4)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING4_SELFRFSHEXIT		(512)
+#define CFG_HPS_SDR_CTRLCFG_DRAMTIMING4_PWRDOWNEXIT		(3)
+#define CFG_HPS_SDR_CTRLCFG_LOWPWRTIMING_AUTOPDCYCLES	(0)
+#define CFG_HPS_SDR_CTRLCFG_LOWPWRTIMING_CLKDISABLECYCLES	(8)
+#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_COLBITS		(10)
+#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_ROWBITS		(15)
+#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_BANKBITS		(3)
+#define CFG_HPS_SDR_CTRLCFG_DRAMADDRW_CSBITS			(1)
+#define CFG_HPS_SDR_CTRLCFG_DRAMIFWIDTH_IFWIDTH		(32)
+#define CFG_HPS_SDR_CTRLCFG_DRAMDEVWIDTH_DEVWIDTH		(8)
+#define CFG_HPS_SDR_CTRLCFG_DRAMINTR_INTREN			(0)
+#define CFG_HPS_SDR_CTRLCFG_LOWPWREQ_SELFRFSHMASK		(3)
+#define CFG_HPS_SDR_CTRLCFG_STATICCFG_MEMBL			(2)
+#define CFG_HPS_SDR_CTRLCFG_STATICCFG_USEECCASDATA		(0)
+#define CFG_HPS_SDR_CTRLCFG_CTRLWIDTH_CTRLWIDTH		(2)
+#define CFG_HPS_SDR_CTRLCFG_PORTCFG_AUTOPCHEN		(0)
+#define CFG_HPS_SDR_CTRLCFG_FIFOCFG_SYNCMODE			(0)
+#define CFG_HPS_SDR_CTRLCFG_FIFOCFG_INCSYNC			(0)
+#define CFG_HPS_SDR_CTRLCFG_MPPRIORITY_USERPRIORITY		(0x0)
+#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_0_STATICWEIGHT_31_0	(0x21084210)
+#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_1_STATICWEIGHT_49_32	(0x10441)
+#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_1_SUMOFWEIGHT_13_0	(0x78)
+#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_2_SUMOFWEIGHT_45_14	(0x0)
+#define CFG_HPS_SDR_CTRLCFG_MPWIEIGHT_3_SUMOFWEIGHT_63_46	(0x0)
+#define CFG_HPS_SDR_CTRLCFG_PHYCTRL_PHYCTRL_0		(0x200)
+
+#define CFG_HPS_SDR_CTRLCFG_CPORTWIDTH_CPORTWIDTH		(0x44555)
+#define CFG_HPS_SDR_CTRLCFG_CPORTWMAP_CPORTWMAP		(0x2C011000)
+#define CFG_HPS_SDR_CTRLCFG_CPORTRMAP_CPORTRMAP		(0xB00088)
+#define CFG_HPS_SDR_CTRLCFG_RFIFOCMAP_RFIFOCMAP		(0x760210)
+#define CFG_HPS_SDR_CTRLCFG_WFIFOCMAP_WFIFOCMAP		(0x980543)
+#define CFG_HPS_SDR_CTRLCFG_CPORTRDWR_CPORTRDWR		(0x5A56A)
+#define CFG_HPS_SDR_CTRLCFG_MPPACING_0_THRESHOLD1_31_0	(0x20820820)
+#define CFG_HPS_SDR_CTRLCFG_MPPACING_1_THRESHOLD1_59_32	(0x8208208)
+#define CFG_HPS_SDR_CTRLCFG_MPPACING_1_THRESHOLD2_3_0	(0)
+#define CFG_HPS_SDR_CTRLCFG_MPPACING_2_THRESHOLD2_35_4	(0x41041041)
+#define CFG_HPS_SDR_CTRLCFG_MPPACING_3_THRESHOLD2_59_36	(0x410410)
+#define CFG_HPS_SDR_CTRLCFG_MPTHRESHOLDRST_0_THRESHOLDRSTCYCLES_31_0 \
+(0x01010101)
+#define CFG_HPS_SDR_CTRLCFG_MPTHRESHOLDRST_1_THRESHOLDRSTCYCLES_63_32 \
+(0x01010101)
+#define CFG_HPS_SDR_CTRLCFG_MPTHRESHOLDRST_2_THRESHOLDRSTCYCLES_79_64 \
+(0x0101)
+#define CFG_HPS_SDR_CTRLCFG_DRAMODT_READ			(0)
+#define CFG_HPS_SDR_CTRLCFG_DRAMODT_WRITE			(1)
+#define CFG_HPS_SDR_CTRLCFG_FPGAPORTRST_READ_PORT_USED	(0x0)
+#define CFG_HPS_SDR_CTRLCFG_FPGAPORTRST_WRITE_PORT_USED	(0x0)
+#define CFG_HPS_SDR_CTRLCFG_FPGAPORTRST_COMMAND_PORT_USED	(0x0)
+#define CFG_HPS_SDR_CTRLCFG_FPGAPORTRST			(0x0)
+
+#define CFG_HPS_SDR_CTRLCFG_EXTRATIME1_CFG_EXTRA_CTL_CLK_RD_TO_WR (2)
+#define CFG_HPS_SDR_CTRLCFG_EXTRATIME1_CFG_EXTRA_CTL_CLK_RD_TO_WR_BC (2)
+#define CFG_HPS_SDR_CTRLCFG_EXTRATIME1_CFG_EXTRA_CTL_CLK_RD_TO_WR_DIFF_CHIP (2)
+
+#endif /* __SOCFPGA_SDRAM_CFG_H__ */
diff --git a/include/configs/socfpga_common.h b/include/configs/socfpga_common.h
index 4838bfd4f1..0dd515ef7b 100644
--- a/include/configs/socfpga_common.h
+++ b/include/configs/socfpga_common.h
@@ -159,4 +159,8 @@
 #endif
 #endif
 
+#define CONFIG_SPL_FAT_SUPPORT
+#define CONFIG_SYS_MMC_SD_FAT_BOOT_PARTITION 1
+#define CONFIG_SPL_FAT_LOAD_PAYLOAD_NAME "u-boot.img"
+
 #endif	/* __CONFIG_SOCFPGA_COMMON_H__ */
-- 
2.34.1

